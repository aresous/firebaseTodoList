(this.webpackJsonpreacttodolist=this.webpackJsonpreacttodolist||[]).push([[0],{36:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var s=n(4),c=n.n(s),o=n(26),a=n.n(o),i=(n(36),n(30)),r=n(21),l=n(13),u=n(27),j=n(28),d=n(31),b=n(29),p=n(10),g=n(5),O=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var s;return Object(u.a)(this,n),(s=e.call(this,t)).state={editDisplay:"none"},s}return Object(j.a)(n,[{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({editDisplay:"none"}),this.props.editTask(this.props.item.id,this.state.editText)}},{key:"render",value:function(){var t=this;return Object(g.jsxs)("div",{className:"Task",children:[Object(g.jsx)("br",{}),"[ ",this.props.text," ]",Object(g.jsx)(p.c,{style:{paddingLeft:10,color:"22,22",cursor:"pointer"},onClick:function(e){console.log("EDIT"),console.log(t.state.editDisplay),"inline-block"===t.state.editDisplay?t.setState({editDisplay:"none"}):t.setState({editDisplay:"inline-block"})}}),Object(g.jsx)(p.f,{onClick:function(e){t.props.deleteFunction(t.props.item.id)},style:{paddingLeft:10,color:"red",cursor:"pointer"}})," ",Object(g.jsx)("br",{}),Object(g.jsxs)("form",{style:{display:this.state.editDisplay},onSubmit:function(e){t.handleSubmit(e)},children:[Object(g.jsx)("input",{type:"text",onChange:function(e){t.setState({editText:e.target.value})}}),Object(g.jsx)("button",{type:"submit",children:" EDIT "})]}),Object(g.jsx)("br",{})]})}}]),n}(c.a.Component),h=n(16),f=n.n(h),x=n(11);n(24),n(25);function m(t){var e=Object(s.useState)(!1),n=Object(l.a)(e,2),c=n[0],o=n[1],a=Object(s.useState)(),i=Object(l.a)(a,2),r=i[0],u=i[1],j=new x.a.auth.GoogleAuthProvider;Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("signInStatus"));console.log(e,"si status"),e&&o(e),x.a.app().auth().onAuthStateChanged((function(e){u(e),t.upperUserFunc(e)}))}),[]);var d={background:"none",color:"white",cursor:"pointer"};return Object(g.jsxs)("div",{children:[r?Object(g.jsx)("img",{src:r.photoURL,alt:"avatar",style:{width:40,height:40}}):null,r?Object(g.jsx)("p",{children:r.displayName}):null,Object(g.jsx)(p.b,{})," ",c?Object(g.jsx)("button",{style:d,onClick:function(){o(!1),localStorage.setItem("signInStatus",JSON.stringify(!1)),console.log(c),x.a.auth().signOut().then((function(){t.signoutFunc()})).catch((function(t){}))},children:"Sign Out"}):Object(g.jsx)("button",{style:d,onClick:function(){x.a.auth().signInWithPopup(j).then((function(t){console.log("result: ",t),o(!0),localStorage.setItem("signInStatus",JSON.stringify(!0))})).then(console.log(c,"signedin?")).catch((function(t){console.log("SIGN-IN ERROR:",t)}))},children:" Login "})," "]})}n(42),n(43),x.a.initializeApp({apiKey:"AIzaSyCKAeLIS9TlZR-CUjBwUxJsNZgfh7K5Y_o",authDomain:"react-todo-list-953e3.firebaseapp.com",projectId:"react-todo-list-953e3",storageBucket:"react-todo-list-953e3.appspot.com",messagingSenderId:"954384447079",appId:"1:954384447079:web:05a758e553b4f3df0886c2"}),x.a.auth();var S=x.a.firestore(),y=S.doc("users/currentuser");function v(t){var e=Object(s.useState)([]),n=Object(l.a)(e,2),c=n[0],o=n[1],a=Object(s.useState)(""),u=Object(l.a)(a,2),j=u[0],d=u[1],b=Object(s.useState)(f()()),h=Object(l.a)(b,2),x=h[0],v=h[1],k=Object(s.useState)(),I=Object(l.a)(k,2),N=I[0],D=I[1];function C(t){var e=c.filter((function(e){return e.id!==t}));o(e)}function J(t,e){var n=c.map((function(n){return n.id===t?Object(r.a)(Object(r.a)({},n),{},{text:e}):n}));o(n)}Object(s.useEffect)((function(){var t=JSON.parse(localStorage.getItem("document"));console.log(t,"docdata"),void 0!==localStorage.getItem("document")&&o(t)}),[]),console.log(c,"tasks2");var w=c?c.map((function(t){return Object(g.jsx)(O,{text:t.text,deleteFunction:C,item:t,editTask:J},f()())})):[];return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(m,{upperUserFunc:function(t){y=S.doc("users/".concat(t.uid)),D(t),console.log(t.tasks,"tasks"),y.get().then((function(t){t.exists?(console.log("Document data:",t.data()),o(t.data().tasks)):console.log("No such document!")})).catch((function(t){console.log("Error getting document:",t)}))},signoutFunc:function(){o([]),D(null),localStorage.getItem("document")&&o(JSON.parse(localStorage.getItem("document")))}}),w,Object(g.jsx)("hr",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o(c?[].concat(Object(i.a)(c),[{text:j,id:x}]):[{text:j,id:x}]),d(""),v(f()())},children:[Object(g.jsxs)("p",{children:["Enter task, then submit: ",Object(g.jsx)("br",{})]}),Object(g.jsx)("input",{type:"text",onChange:function(t){d(t.target.value)}}),Object(g.jsx)("input",{type:"submit"}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(p.e,{cursor:"pointer",className:"icn-spinner",size:"40",onClick:function(){N&&(y=S.doc("users/".concat(N.uid))),JSON.parse(localStorage.getItem("signInStatus"))||localStorage.setItem("document",JSON.stringify(c)),N&&y.set({User:N.displayName,UserId:N.uid,tasks:c}).then(console.log("saved")).catch((function(t){return console.log("eRR",t)}))}}),Object(g.jsx)("p",{style:{fontSize:15},children:"click this icon to save your tasks"})]}),Object(g.jsxs)("footer",{children:[" ","made with ",Object(g.jsx)(p.d,{className:"react-spinner",color:"cyan",size:"30"}),"  "," ",Object(g.jsx)("x",{style:{paddingLeft:10},children:"\ud83d\udd25 Firebase"}),Object(g.jsxs)("a",{href:"https://github.com/aresous",target:"_blank",rel:"noopener noreferrer",children:[Object(g.jsx)(p.a,{style:{paddingLeft:30}}),"github"]})]})]})}var k=document.getElementById("root");a.a.render(Object(g.jsx)(s.StrictMode,{children:Object(g.jsx)(v,{})}),k)}},[[44,1,2]]]);
//# sourceMappingURL=main.da357f27.chunk.js.map